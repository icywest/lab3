<h2>Your Posts</h2>

<div class="profile-container">
  <div class="add-post">
    <h3>Create a New Post</h3>
    <form action="/posts/add" method="POST">
      <input type="text" name="title" placeholder="Title" required>
      <textarea name="content" placeholder="Write something..." required></textarea>
      <select name="status">
        <option value="draft">Draft</option>
        <option value="published">Published</option>
      </select>
      <button type="submit" class="btn">Add Post</button>
    </form>
  </div>

  <hr>

  {{#if posts.length}}
    <ul class="posts-list">
      {{#each posts}}
        <li class="post-item">
          <div class="post-header">
            <h3>{{this.title}}</h3>
            <span class="post-status">{{this.status}}</span>
          </div>
          <p class="post-content">{{this.content}}</p>

          <!-- Botones de acciones -->
          <div class="post-actions">
            <button class="btn edit-btn" onclick="showEditForm('{{this.id}}')">Edit</button>
            <form action="/posts/delete/{{this.id}}" method="POST">
              <button type="submit" class="btn delete-btn" onclick="return confirm('Are you sure?')">Delete</button>
            </form>
          </div>
          <form id="edit-form-{{this.id}}" action="/posts/update/{{this.id}}" method="POST" class="edit-form">
            <input type="text" name="title" value="{{this.title}}" required>
            <textarea name="content" required>{{this.content}}</textarea>
            <select name="status">
              <option value="draft" {{#if (eq this.status "draft")}}selected{{/if}}>Draft</option>
              <option value="published" {{#if (eq this.status "published")}}selected{{/if}}>Published</option>
            </select>
            <button type="submit" class="btn save-btn">Save</button>
          </form>
        </li>
      {{/each}}
    </ul>
  {{else}}
    <p class="no-posts">You haven't written any posts yet.</p>
  {{/if}}
</div>

<script src="/js/showEdit.js"></script>
